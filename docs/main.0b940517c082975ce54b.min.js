(()=>{"use strict";var e,t,n,o,r={},i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return r[e](t,t.exports,a),t.exports}a.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);a.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(r,i),r},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".24c8c5e9f51d1490283a.min.js",a.miniCssF=e=>(179===e?"main":e)+"."+{844:"31d6cfe0d16ae931b73c"}[e]+".min.css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="fifteenpuzzle:",a.l=(e,t,r,i)=>{if(n[e])n[e].push(t);else{var s,u;if(void 0!==r)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==o+r){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",o+r),s.src=e),n[e]=[t];var d=(t,o)=>{s.onerror=s.onload=null,clearTimeout(g);var r=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>{o=e[t]=[n,r]}));n.push(o[2]=r);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{for(var o,r,[i,s,u]=n,c=0,l=[];c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&l.push(e[r][0]),e[r]=0;for(o in s)a.o(s,o)&&(a.m[o]=s[o]);for(u&&u(a),t&&t(n);l.length;)l.shift()()},n=self.webpackChunkfifteenpuzzle=self.webpackChunkfifteenpuzzle||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();const s="left",u="right",c="up",l="down",f=[s,u];function d(e,t,n){const o=n||30,r=t.x-e.x,i=t.y-e.y;return Math.abs(r)+Math.abs(i)<o?"":Math.abs(r)>Math.abs(i)?r<0?s:u:i<0?c:l}function g(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function h(e,t,n,o){const r=e.location.search,i=new URLSearchParams(r);for(const[e,t]of i)"number"==typeof n[e]?n[e]=parseInt(t,10):"boolean"==typeof n[e]?n[e]=g(t):n[e]=t;n.useServiceWorker&&"serviceWorker"in navigator&&(navigator.serviceWorker.register("./sw.js",{scope:"./"}),function(e,t,n){const o=t.getElementById("butInstall");let r;o.addEventListener("click",(e=>{o.classList.add("hidden"),r.prompt(),r.userChoice.then((e=>{}))})),e.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),r=e,n&&n.showInstall&&o.classList.remove("hidden")}))}(e,t,n)),n.useGamePad&&navigator.getGamepads&&a.e(844).then(a.t.bind(a,844,23)).then((e=>{})),o(e,t,n)}function m(e){const t=e.changedTouches;return function(e){const t={};return t.x=e.pageX||e.clientX,t.y=e.pageY||e.clientY,t}(t?t[0]:e)}function p(e,t){const n="number"==typeof e?Object.keys(t)[e]:e;if(!n)return;const o=t[n];null!=o&&(t[n]=!o)}function v(e,t){let n=[];const o={777:function(){e.useRandomInit=!1,t()},222:()=>function(e){p("useActiveHighlight",e),p("useMovingHighlight",e)}(e),555:t};return{addElem:function(e){n.length<10&&n.push(e)},execute:function(){const t=n.join("");if(0===t.indexOf("111")){p(parseInt(t.substr(3),10)-1,e)}else{const e=o[t];e&&e()}n=[]}}}function b(e){const t=[300,200,300,200,150,100,150,100,150,300,100,100,100,100,150,100,200,300,120,130,120,300],n=[t,[100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,100,100,100,100,100,50,50,100,800],[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500]],o=function(){return(e=n)[Math.floor(Math.random()*e.length)];var e};return{getSong:function(){return e.useRandomSong?o():t}}}function y(e){return e===c?-1:e===l?1:e===s?-1:e===u?1:0}function E(e,t){return e>=0?Math.min(e,t):Math.max(e,-t)}function w(e,t,n,o){const r=n.offsetWidth/4;o.useMovingHighlight&&(e.style.backgroundColor="green"),e.style.transform="translateX("+E(t,r)+"px)"}function C(e,t,n,o){const r=n.offsetHeight/4;o.useMovingHighlight&&(e.style.backgroundColor="purple"),e.style.transform="translateY("+E(t,r)+"px)"}function x(e,t){return t.childNodes[e]}function L(e,t,n,o){for(let n=0;n<16;n++){const o=x(n,e),r=t.getElement(n);o.textContent=r,o.style.backgroundColor="",o.style.transform="",o.style.transition="",o.className=r?"cell":"cell hole"}!function(e,t,n){e.getMovesCount()<=0||(n.useIconChanger&&t.changeBage(e.getMovesCount()),n.useBageChanger&&navigator.setAppBadge&&navigator.setAppBadge(e.getMovesCount()),n.useTitleChanger&&e.getMovesCount()>0&&(document.title=e.getMovesCount()))}(t,n,o)}function M(e){return e===c?4:e===l?-4:e===s?1:e===u?-1:0}function O(e){let t=[],n=0;const o=function(e,t,n){const o=n[e];n[e]=n[t],n[t]=o},r=function(e){const t={};return t.x=e%4,t.y=Math.floor(e/4),t},i=function(e){return function(e,t){const n=t.x-e.x,o=t.y-e.y;return 0!==n&&0!==o?"":d(e,t,1)}(r(e),r(s))},a=function(e,r){if(""===e)return!1;if(r<0||r>15)return!1;if(e!==i(r))return!1;const a=u(r);let c=!1;for(let e=a.length-1;e>=0;--e)o(a[e],s,t),s=a[e],c=!0;return c&&++n,c};let s=15;const u=function(e){const t=r(e),n=r(s),o=[];if(t.x===n.x){let r=e,i=Math.abs(t.y-n.y);for(;i>0;)o.push(r),r-=4*Math.sign(t.y-n.y),--i}else if(t.y===n.y){let r=e,i=Math.abs(t.x-n.x);for(;i>0;)o.push(r),r-=Math.sign(t.x-n.x),--i}return o},c=function(e){n=0,t=[];for(let e=1;e<16;++e)t.push(e);e&&function(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,o(t,n,e)}}(t),t.push(0),s=15,function(e){let t=0;for(let n=1,o=e.length-1;n<o;n++)for(let o=n-1;o>=0;o--)e[o]>e[n]&&++t;return!(t%2)}(t)||o(0,1,t),e||(o(14,15,t),s=14)},l=function(){c(e.useRandomInit)};return l(),{go:function(e){return a(e,s+M(e))},bigGo:a,isCompleted:function(){return!t.some((function(e,t){return e>0&&e-1!==t}))},getElement:function(e){return t[e]},getMovesCount:function(){return n},reinit:l,canGo:function(e,t){if(!e||""===e)return!1;return e===i(t)&&u(t).length>0},getActiveElements:u,getHolePosition:function(){return s}}}!function(e,t,n,o){!function(e,t,n,o,r){"loading"!==n.readyState?e(t,n,o,r):n.addEventListener("DOMContentLoaded",(function(i){e(t,n,o,r)}))}(h,e,t,n,o)}(window,document,{useRandomInit:!0,useSmoothAnimation:!0,useSlideAnimation:!0,useTitleChanger:!1,useIconChanger:!1,useBageChanger:!0,useRandomSong:!0,useMovingHighlight:!1,useActiveHighlight:!1,useGamePad:!0,useOnlyPushStrategy:!0,useServiceWorker:!0,useVibration:!0,useHorizontalOrientation:!0,useVerticalOrientation:!1,showInstall:!0},(function(e,t,n){const o=b(n),r=O(n);let i=null,a=null,g=null,h=null;const p=v(n,N),E=function(e){if(e.preventDefault(),!e.target.classList.contains("cell")||i)return;i=e.target,h=function(e){for(let t=0;t<16;++t)if(r.getElement(t)===+e)return t;return-1}(e.target.textContent),a=m(e),g=a;const t=r.getElement(h);0!==t?(n.useActiveHighlight&&i.classList.add("active"),p.addElem(t)):p.execute()},S=function(e){if(!a)return;e.preventDefault();const t=m(e),n=d(a,t);H(n,h),a=null,h=null,i=null,I()},k=t.getElementsByClassName("box")[0],A=t.getElementsByClassName("reload")[0],j=t.getElementsByClassName("install")[0];!function(e,t,n,o){for(let r=0;r<e;r++){const e=o.createElement("div");e.className=t,n.appendChild(e)}}(16,"cell",k,t);const P=function(e){const t=e.createElement("canvas"),n=e.getElementById("favicon");t.height=t.width=16;const o=t.getContext("2d");return o.fillStyle="#000",{changeBage:function(e){o.clearRect(0,0,t.width,t.height),o.fillText(e,2,12),n&&(n.href=t.toDataURL("image/png"))}}}(t),B=function(e,t,n,o,r,i,a){let s=!1;function u(){L(e,o,r,a),o.isCompleted()?(e.classList.add("win"),t.classList.remove("hidden"),n.classList.remove("hidden2"),a.useVibration&&(s=!0,navigator.vibrate(i.getSong()))):(a.useVibration&&s&&(s=!1,navigator.vibrate(0)),t.classList.add("hidden"),e.classList.remove("win"))}const c=function(t,n,r,i,s){for(let u of o.getActiveElements(r)){const o=x(u,e);f.includes(i)?w(o,t,e,a):C(o,n,e,a),s||(o.style.transition="transform 100ms linear")}};return{animateGo:function(t,n){return!!o.canGo(t,n)&&(a.useSmoothAnimation&&c(e.offsetWidth/4*y(t),e.offsetHeight/4*y(t),n,t,!1),o.bigGo(t,n))},drawWithAnimation:function(){a.useSmoothAnimation?setTimeout(u,100):requestAnimationFrame(u)},moveActiveElements:c}}(k,A,j,r,P,o,n),H=function(e,t){return B.animateGo(e,t)};function I(){B.drawWithAnimation()}function T(e){if(e.preventDefault(),!n.useSlideAnimation)return;if(!i)return;const t=m(e),o=a,s=t.x-o.x,u=t.y-o.y,c=d(o,t,5),l=d(g,t,5);if(n.useOnlyPushStrategy&&function(e,t){const n=M(e),o=M(t);return 0!==n&&n===-o}(c,l)){const e=r.getActiveElements(h);e.length>1&&H(c,e[1])}r.canGo(c,h)?(B.moveActiveElements(s,u,h,c,!0),g=t):i.style.transform=""}function N(){r.reinit(),I()}k.addEventListener("touchstart",E,!1),k.addEventListener("touchend",S,!1),k.addEventListener("touchcancel",S,!1),k.addEventListener("touchmove",T,!1),k.addEventListener("mousedown",E,!1),k.addEventListener("mouseup",S,!1),k.addEventListener("mouseleave",S,!1),k.addEventListener("mousemove",T,!1),e.addEventListener("keydown",(function(e){var t;t=function(e){switch(e){case 37:case 72:case 65:return s;case 39:case 76:case 68:return u;case 38:case 75:case 87:return c;case 40:case 74:case 83:return l;default:return""}}(e.keyCode),H(t,r.getHolePosition()+M(t))&&I()})),e.addEventListener("deviceorientation",(function(e){!function(e,t,n,o){if(!t.useHorizontalOrientation&&!t.useVerticalOrientation)return;let r=e.gamma;e.beta>90&&(r*=-1);let i=!1;if(t.useHorizontalOrientation){if(r>55)for(let e=0;e<16;e+=4)i|=o(u,e);if(r<-55)for(let e=3;e<16;e+=4)i|=o(s,e)}let a=e.beta;if(t.useVerticalOrientation){if(a>35)for(let e=0;e<4;e+=1)i|=o(l,e);if(a<-35)for(let e=12;e<16;e+=1)i|=o(c,e)}i&&n()}(e,n,I,H)})),A.addEventListener("click",(function(){n.useRandomInit=!0,N()}),!1),I()}))})();