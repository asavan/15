(()=>{"use strict";var e,t,n={},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".748fc22fb3cd7dd0966e.min.js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="fifteenpuzzle:",r.l=(n,o,i,a)=>{if(e[n])e[n].push(o);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[o];var d=(t,o)=>{s.onerror=s.onload=null,clearTimeout(g);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=i);var a=r.p+r.u(t),s=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[a,s,u]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(u)u(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkfifteenpuzzle=self.webpackChunkfifteenpuzzle||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();const i="left",a="right",s="up",u="down",c=[i,a];function l(e,t,n){const o=n||30,r=t.x-e.x,c=t.y-e.y;return Math.abs(r)+Math.abs(c)<o?"":Math.abs(r)>Math.abs(c)?r<0?i:a:c<0?s:u}function f(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function d(e,t,n,o){const i=e.location.search,a=new URLSearchParams(i);for(const[e,t]of a)"number"==typeof n[e]?n[e]=parseInt(t,10):"boolean"==typeof n[e]?n[e]=f(t):n[e]=t;n.useServiceWorker&&"serviceWorker"in navigator&&(navigator.serviceWorker.register("./sw.js",{scope:"./"}),function(e,t,n){const o=t.getElementById("butInstall");let r;o.addEventListener("click",(e=>{o.classList.add("hidden"),r.prompt(),r.userChoice.then((e=>{}))})),e.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),r=e,n&&n.showInstall&&o.classList.remove("hidden")}))}(e,t,n)),n.useGamePad&&navigator.getGamepads&&r.e(700).then(r.bind(r,700)).then((e=>{setTimeout((function(){e.default.init()}),500)})),o(e,t,n)}function g(e){const t=e.changedTouches;return function(e){const t={};return t.x=e.pageX||e.clientX,t.y=e.pageY||e.clientY,t}(t?t[0]:e)}function h(e,t){const n="number"==typeof e?Object.keys(t)[e]:e;if(!n)return;const o=t[n];null!=o&&(t[n]=!o)}function m(e,t){let n=[];const o={777:function(){e.useRandomInit=!1,t()},222:()=>function(e){h("useActiveHighlight",e),h("useMovingHighlight",e)}(e),555:t};return{addElem:function(e){n.length<10&&n.push(e)},execute:function(){const t=n.join("");if(0===t.indexOf("111")){h(parseInt(t.substr(3),10)-1,e)}else{const e=o[t];e&&e()}n=[]}}}function v(e){const t=[300,200,300,200,150,100,150,100,150,300,100,100,100,100,150,100,200,300,120,130,120,300],n=[t,[100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,100,100,100,100,100,50,50,100,800],[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500]],o=function(){return(e=n)[Math.floor(Math.random()*e.length)];var e};return{getSong:function(){return e.useRandomSong?o():t}}}function p(e){return e===s?-1:e===u?1:e===i?-1:e===a?1:0}function y(e,t){return e>=0?Math.min(e,t):Math.max(e,-t)}function b(e,t,n,o){const r=n.offsetWidth/4;o.useMovingHighlight&&(e.style.backgroundColor="green"),e.style.transform="translateX("+y(t,r)+"px)"}function E(e,t,n,o){const r=n.offsetHeight/4;o.useMovingHighlight&&(e.style.backgroundColor="purple"),e.style.transform="translateY("+y(t,r)+"px)"}function C(e,t){return t.childNodes[e]}function w(e,t,n,o){for(let n=0;n<16;n++){const o=C(n,e),r=t.getElement(n);o.textContent=r,o.style.backgroundColor="",o.style.transform="",o.style.transition="",o.className=r?"cell":"cell hole"}!function(e,t,n){e.getMovesCount()<=0||(n.useIconChanger&&t.changeBage(e.getMovesCount()),n.useBageChanger&&navigator.setAppBadge&&navigator.setAppBadge(e.getMovesCount()),n.useTitleChanger&&e.getMovesCount()>0&&(document.title=e.getMovesCount()))}(t,n,o)}function x(e){return e===s?4:e===u?-4:e===i?1:e===a?-1:0}function L(e){let t=[],n=0;const o=function(e,t,n){const o=n[e];n[e]=n[t],n[t]=o},r=function(e){const t={};return t.x=e%4,t.y=Math.floor(e/4),t},i=function(e){return function(e,t){const n=t.x-e.x,o=t.y-e.y;return 0!==n&&0!==o?"":l(e,t,1)}(r(e),r(s))},a=function(e,r){if(""===e)return!1;if(r<0||r>15)return!1;if(e!==i(r))return!1;const a=u(r);let c=!1;for(let e=a.length-1;e>=0;--e)o(a[e],s,t),s=a[e],c=!0;return c&&++n,c};let s=15;const u=function(e){const t=r(e),n=r(s),o=[];if(t.x===n.x){let r=e,i=Math.abs(t.y-n.y);for(;i>0;)o.push(r),r-=4*Math.sign(t.y-n.y),--i}else if(t.y===n.y){let r=e,i=Math.abs(t.x-n.x);for(;i>0;)o.push(r),r-=Math.sign(t.x-n.x),--i}return o},c=function(e){n=0,t=[];for(let e=1;e<16;++e)t.push(e);e&&function(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,o(t,n,e)}}(t),t.push(0),s=15,function(e){let t=0;for(let n=1,o=e.length-1;n<o;n++)for(let o=n-1;o>=0;o--)e[o]>e[n]&&++t;return!(t%2)}(t)||o(0,1,t),e||(o(14,15,t),s=14)},f=function(){c(e.useRandomInit)};return f(),{go:function(e){return a(e,s+x(e))},bigGo:a,isCompleted:function(){return!t.some((function(e,t){return e>0&&e-1!==t}))},getElement:function(e){return t[e]},getMovesCount:function(){return n},reinit:f,canGo:function(e,t){if(!e||""===e)return!1;return e===i(t)&&u(t).length>0},getActiveElements:u,getHolePosition:function(){return s}}}!function(e,t,n,o){!function(e,t,n,o,r){"loading"!==n.readyState?e(t,n,o,r):n.addEventListener("DOMContentLoaded",(function(i){e(t,n,o,r)}))}(d,e,t,n,o)}(window,document,{useRandomInit:!0,useSmoothAnimation:!0,useSlideAnimation:!0,useTitleChanger:!1,useIconChanger:!1,useBageChanger:!0,useRandomSong:!0,useMovingHighlight:!1,useActiveHighlight:!1,useGamePad:!0,useOnlyPushStrategy:!0,useServiceWorker:!0,useVibration:!0,useHorizontalOrientation:!0,useVerticalOrientation:!1,showInstall:!0},(function(e,t,n){const o=v(n),r=L(n);let f=null,d=null,h=null,y=null;const M=m(n,G),S=function(e){if(e.preventDefault(),!e.target.classList.contains("cell")||f)return;f=e.target,y=function(e){for(let t=0;t<16;++t)if(r.getElement(t)===+e)return t;return-1}(e.target.textContent),d=g(e),h=d;const t=r.getElement(y);0!==t?(n.useActiveHighlight&&f.classList.add("active"),M.addElem(t)):M.execute()},k=function(e){if(!d)return;e.preventDefault();const t=g(e),n=l(d,t);T(n,y),d=null,y=null,f=null,I()},A=t.getElementsByClassName("box")[0],O=t.getElementsByClassName("reload")[0],B=t.getElementsByClassName("install")[0];!function(e,t,n,o){for(let r=0;r<e;r++){const e=o.createElement("div");e.className=t,n.appendChild(e)}}(16,"cell",A,t);const H=function(e){const t=e.createElement("canvas"),n=e.getElementById("favicon");t.height=t.width=16;const o=t.getContext("2d");return o.fillStyle="#000",{changeBage:function(e){o.clearRect(0,0,t.width,t.height),o.fillText(e,2,12),n&&(n.href=t.toDataURL("image/png"))}}}(t),P=function(e,t,n,o,r,i,a){let s=!1;function u(){w(e,o,r,a),o.isCompleted()?(e.classList.add("win"),t.classList.remove("hidden"),n.classList.remove("hidden2"),a.useVibration&&(s=!0,navigator.vibrate(i.getSong()))):(a.useVibration&&s&&(s=!1,navigator.vibrate(0)),t.classList.add("hidden"),e.classList.remove("win"))}const l=function(t,n,r,i,s){for(let u of o.getActiveElements(r)){const o=C(u,e);c.includes(i)?b(o,t,e,a):E(o,n,e,a),s||(o.style.transition="transform 100ms linear")}};return{animateGo:function(t,n){return!!o.canGo(t,n)&&(a.useSmoothAnimation&&l(e.offsetWidth/4*p(t),e.offsetHeight/4*p(t),n,t,!1),o.bigGo(t,n))},drawWithAnimation:function(){a.useSmoothAnimation?setTimeout(u,100):requestAnimationFrame(u)},moveActiveElements:l}}(A,O,B,r,H,o,n),T=function(e,t){return P.animateGo(e,t)};function I(){P.drawWithAnimation()}function j(e){if(e.preventDefault(),!n.useSlideAnimation)return;if(!f)return;const t=g(e),o=d,i=t.x-o.x,a=t.y-o.y,s=l(o,t,5),u=l(h,t,5);if(n.useOnlyPushStrategy&&function(e,t){const n=x(e),o=x(t);return 0!==n&&n===-o}(s,u)){const e=r.getActiveElements(y);e.length>1&&T(s,e[1])}r.canGo(s,y)?(P.moveActiveElements(i,a,y,s,!0),h=t):f.style.transform=""}function G(){r.reinit(),I()}A.addEventListener("touchstart",S,!1),A.addEventListener("touchend",k,!1),A.addEventListener("touchcancel",k,!1),A.addEventListener("touchmove",j,!1),A.addEventListener("mousedown",S,!1),A.addEventListener("mouseup",k,!1),A.addEventListener("mouseleave",k,!1),A.addEventListener("mousemove",j,!1),e.addEventListener("keydown",(function(e){var t;t=function(e){switch(e){case 37:case 72:case 65:return i;case 39:case 76:case 68:return a;case 38:case 75:case 87:return s;case 40:case 74:case 83:return u;default:return""}}(e.keyCode),T(t,r.getHolePosition()+x(t))&&I()})),e.addEventListener("deviceorientation",(function(e){!function(e,t,n,o){if(!t.useHorizontalOrientation&&!t.useVerticalOrientation)return;let r=e.gamma;e.beta>90&&(r*=-1);let c=!1;if(t.useHorizontalOrientation){if(r>55)for(let e=0;e<16;e+=4)c|=o(a,e);if(r<-55)for(let e=3;e<16;e+=4)c|=o(i,e)}let l=e.beta;if(t.useVerticalOrientation){if(l>35)for(let e=0;e<4;e+=1)c|=o(u,e);if(l<-35)for(let e=12;e<16;e+=1)c|=o(s,e)}c&&n()}(e,n,I,T)})),O.addEventListener("click",(function(){n.useRandomInit=!0,G()}),!1),I()}))})();