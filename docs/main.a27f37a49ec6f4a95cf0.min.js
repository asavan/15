!function(e){function t(t){for(var n,r,i=t[0],s=t[1],a=0,c=[];a<i.length;a++)r=i[a],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&c.push(o[r][0]),o[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);c.length;)c.shift()()}var n={},o={0:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=i);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(e){return r.p+""+({}[e]||e)+"."+{1:"c9da14176dab8b9e6de6"}[e]+".min.js"}(e);var u=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}o[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw e};var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var u=s;r(r.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);const o="left",r="right",i="up",s="down",a=[o,r];function u(e,t,n){const a=n||30,u=t.x-e.x,c=t.y-e.y;return Math.abs(u)+Math.abs(c)<a?"":Math.abs(u)>Math.abs(c)?u<0?o:r:c<0?i:s}function c(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function l(e,t,o,r){const i=e.location.search,s=new URLSearchParams(i);for(const[e,t]of s)"number"==typeof o[e]?o[e]=parseInt(t,10):"boolean"==typeof o[e]?o[e]=c(t):o[e]=t;o.useServiceWorker&&"serviceWorker"in navigator&&(navigator.serviceWorker.register("./sw.js",{scope:"./"}),function(e,t,n){const o=t.getElementById("butInstall");let r;o.addEventListener("click",e=>{o.classList.add("hidden"),r.prompt(),r.userChoice.then(e=>{})}),e.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),r=e,n&&n.showInstall&&o.classList.remove("hidden")})}(e,t,o)),o.useGamePad&&navigator.getGamepads&&n.e(1).then(n.t.bind(null,2,7)).then(e=>{}),r(e,t,o)}function f(e){const t=e.changedTouches;return function(e){const t={};return t.x=e.pageX||e.clientX,t.y=e.pageY||e.clientY,t}(t?t[0]:e)}function d(e,t){const n=Object.keys(t)[e];if(!n)return;const o=t[n];null!=o&&(t[n]=!o)}function g(e,t){let n=[];const o={777:function(){e.useRandomInit=!1,t()},222:()=>function(e){d("useActiveHighlight",e),d("useMovingHighlight",e)}(e),555:t};return{addElem:function(e){n.length<10&&n.push(e)},execute:function(){const t=n.join("");if(0===t.indexOf("111")){d(parseInt(t.substr(3),10)-1,e)}else{const e=o[t];e&&e()}n=[]}}}function h(e){const t=[300,200,300,200,150,100,150,100,150,300,100,100,100,100,150,100,200,300,120,130,120,300],n=[t,[100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,100,100,100,100,100,50,50,100,800],[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500]],o=function(){return(e=n)[Math.floor(Math.random()*e.length)];var e};return{getSong:function(){return e.useRandomSong?o():t}}}function m(e,t){return e>=0?Math.min(e,t):Math.max(e,-t)}function v(e,t,n,o){const r=n.offsetWidth/4;o.useMovingHighlight&&(e.style.backgroundColor="green"),e.style.transform="translateX("+m(t,r)+"px)"}function p(e,t,n,o){const r=n.offsetHeight/4;o.useMovingHighlight&&(e.style.backgroundColor="purple"),e.style.transform="translateY("+m(t,r)+"px)"}function y(e,t){return t.childNodes[e]}function b(e,t,n,o){for(let n=0;n<16;n++){const o=y(n,e),r=t.getElement(n);o.textContent=r,o.style.backgroundColor="",o.style.transform="",o.style.transition="",o.className=r?"cell":"cell hole"}!function(e,t,n){e.getMovesCount()<=0||(n.useIconChanger&&t.changeBage(e.getMovesCount()),n.useBageChanger&&navigator.setAppBadge&&navigator.setAppBadge(e.getMovesCount()),n.useTitleChanger&&e.getMovesCount()>0&&(document.title=e.getMovesCount()))}(t,n,o)}!function(e,t,n,o){!function(e,t,n,o,r){"loading"!==n.readyState?e(t,n,o,r):n.addEventListener("DOMContentLoaded",(function(i){e(t,n,o,r)}))}(l,e,t,n,o)}(window,document,{useRandomInit:!0,useSmoothAnimation:!0,useSlideAnimation:!0,useTitleChanger:!1,useIconChanger:!1,useBageChanger:!0,useRandomSong:!0,useMovingHighlight:!1,useActiveHighlight:!1,useGamePad:!0,useOnlyPushStrategy:!0,useServiceWorker:!0,useVibration:!0,useHorizontalOrientation:!0,useVerticalOrientation:!1,showInstall:!0},(function(e,t,n){const c=h(n),l=function(e){return e===i?4:e===s?-4:e===o?1:e===r?-1:0},d=function(){let e=[],t=0;const o=function(e,t,n){const o=n[e];n[e]=n[t],n[t]=o},r=function(e){const t={};return t.x=e%4,t.y=Math.floor(e/4),t},i=function(e){return function(e,t){const n=t.x-e.x,o=t.y-e.y;return 0!==n&&0!==o?"":u(e,t,1)}(r(e),r(a))},s=function(n,r){if(""===n)return!1;if(r<0||r>15)return!1;if(n!==i(r))return!1;const s=c(r);let u=!1;for(let t=s.length-1;t>=0;--t)o(s[t],a,e),a=s[t],u=!0;return u&&++t,u};let a=15;const c=function(e){const t=r(e),n=r(a),o=[];if(t.x===n.x){let r=e,i=Math.abs(t.y-n.y);for(;i>0;)o.push(r),r-=4*Math.sign(t.y-n.y),--i}else if(t.y===n.y){let r=e,i=Math.abs(t.x-n.x);for(;i>0;)o.push(r),r-=Math.sign(t.x-n.x),--i}return o},f=function(n){t=0,e=[];for(let t=1;t<16;++t)e.push(t);n&&function(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,o(t,n,e)}}(e),e.push(0),a=15,function(e){let t=0;for(let n=1,o=e.length-1;n<o;n++)for(let o=n-1;o>=0;o--)e[o]>e[n]&&++t;return!(t%2)}(e)||o(0,1,e),n||(o(14,15,e),a=14)},d=function(){f(n.useRandomInit)};return d(),{go:function(e){return s(e,a+l(e))},bigGo:s,isCompleted:function(){return!e.some((function(e,t){return e>0&&e-1!==t}))},getElement:function(t){return e[t]},getMovesCount:function(){return t},reinit:d,canGo:function(e,t){if(!e||""===e)return!1;return e===i(t)&&c(t).length>0},getActiveElements:c,getHolePosition:function(){return a}}}();let m=null,E=null,x=null,C=null,M=!1,L=!1;const w=g(n,G),O=function(e){if(e.preventDefault(),!e.target.classList.contains("cell")||m)return;m=e.target,C=function(e){for(let t=0;t<16;++t)if(d.getElement(t)===+e)return t;return-1}(e.target.textContent),E=f(e),x=E,M=!1;const t=d.getElement(C);0!==t?(n.useActiveHighlight&&m.classList.add("active"),w.addElem(t)):w.execute()};function S(e){return e===i?-1:e===s?1:e===o?-1:e===r?1:0}const k=function(e,t){if(d.canGo(e,t)){if(n.useSmoothAnimation)for(let o of d.getActiveElements(t)){const t=y(o,H);if(a.includes(e)){v(t,H.offsetWidth/4*S(e),H,n)}else{p(t,H.offsetHeight/4*S(e),H,n)}t.style.transition="transform 100ms linear"}return d.bigGo(e,t)}return!1};function A(){n.useSmoothAnimation?setTimeout(R,100):requestAnimationFrame(R)}const P=function(e){if(!E)return;e.preventDefault();const t=f(e),n=u(E,t);k(n,C),E=null,C=null,m=null,M=!1,A()},H=t.getElementsByClassName("box")[0],j=t.getElementsByClassName("reload")[0],I=t.getElementsByClassName("install")[0];!function(e,t,n,o){for(let r=0;r<e;r++){const e=o.createElement("div");e.className=t,n.appendChild(e)}}(16,"cell",H,t);const B=function(e){const t=e.createElement("canvas"),n=e.getElementById("favicon");t.height=t.width=16;const o=t.getContext("2d");return o.fillStyle="#000",{changeBage:function(e){o.clearRect(0,0,t.width,t.height),o.fillText(e,2,12),n&&(n.href=t.toDataURL("image/png"))}}}(t);function R(){b(H,d,B,n),d.isCompleted()?(H.classList.add("win"),j.classList.remove("hidden"),I.classList.remove("hidden2"),n.useVibration&&(L=!0,navigator.vibrate(c.getSong()))):(n.useVibration&&L&&(L=!1,navigator.vibrate(0)),j.classList.add("hidden"),H.classList.remove("win"))}function T(e){if(e.preventDefault(),!n.useSlideAnimation)return;if(!m)return;const t=f(e),o=E,r=t.x-o.x,i=t.y-o.y,s=u(o,t,5),c=u(x,t,5);if(n.useOnlyPushStrategy&&function(e,t){const n=l(e),o=l(t);return 0!==n&&n===-o}(s,c)){const e=d.getActiveElements(C);e.length>1&&k(s,e[1])}if(d.canGo(s,C)){for(let e of d.getActiveElements(C)){const t=y(e,H);a.includes(s)?v(t,r,H,n):p(t,i,H,n)}x=t}else m.style.transform=""}function G(){d.reinit(),A()}H.addEventListener("touchstart",O,!1),H.addEventListener("touchend",P,!1),H.addEventListener("touchcancel",P,!1),H.addEventListener("touchmove",T,!1),H.addEventListener("mousedown",O,!1),H.addEventListener("mouseup",P,!1),H.addEventListener("mouseleave",P,!1),H.addEventListener("mousemove",T,!1),e.addEventListener("keydown",(function(e){var t;t=function(e){switch(e){case 37:case 72:case 65:return o;case 39:case 76:case 68:return r;case 38:case 75:case 87:return i;case 40:case 74:case 83:return s;default:return NONE}}(e.keyCode),k(t,d.getHolePosition()+l(t))&&A()})),e.addEventListener("deviceorientation",(function(e){!function(e,t,n,a){if(!t.useHorizontalOrientation&&!t.useVerticalOrientation)return;let u=e.gamma;e.beta>90&&(u*=-1);let c=!1;if(t.useHorizontalOrientation){if(u>55)for(let e=0;e<16;e+=4)c|=a(r,e);if(u<-55)for(let e=3;e<16;e+=4)c|=a(o,e)}let l=e.beta;if(t.useVerticalOrientation){if(l>35)for(let e=0;e<4;e+=1)c|=a(s,e);if(l<-35)for(let e=12;e<16;e+=1)c|=a(i,e)}c&&n()}(e,n,A,k)})),j.addEventListener("click",(function(){n.useRandomInit=!0,G()}),!1),A()}))}]);