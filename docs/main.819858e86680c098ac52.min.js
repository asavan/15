!function(e){function t(t){for(var n,r,i=t[0],s=t[1],a=0,c=[];a<i.length;a++)r=i[a],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&c.push(o[r][0]),o[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);c.length;)c.shift()()}var n={},o={0:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=i);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(e){return r.p+""+({}[e]||e)+"."+{1:"c9da14176dab8b9e6de6"}[e]+".min.js"}(e);var u=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}o[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw e};var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var u=s;r(r.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function o(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function r(e,t,r,i){const s=e.location.search,a=new URLSearchParams(s);for(const[e,t]of a)"number"==typeof r[e]?r[e]=parseInt(t,10):"boolean"==typeof r[e]?r[e]=o(t):r[e]=t;r.useServiceWorker&&"serviceWorker"in navigator&&(navigator.serviceWorker.register("./sw.js",{scope:"./"}),function(e,t,n){const o=t.getElementById("butInstall");let r;o.addEventListener("click",e=>{o.classList.add("hidden"),r.prompt(),r.userChoice.then(e=>{})}),e.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),r=e,n&&n.showInstall&&o.classList.remove("hidden")})}(e,t,r)),r.useGamePad&&navigator.getGamepads&&n.e(1).then(n.t.bind(null,2,7)).then(e=>{}),i(e,t,r)}!function(e,t,n,o){!function(e,t,n,o,r){"loading"!==n.readyState?e(t,n,o,r):n.addEventListener("DOMContentLoaded",(function(i){e(t,n,o,r)}))}(r,e,t,n,o)}(window,document,{useRandomInit:!0,useSmoothAnimation:!0,useSlideAnimation:!0,useTitleChanger:!1,useIconChanger:!1,useBageChanger:!0,useRandomSong:!0,useMovingHighlight:!1,useActiveHighlight:!1,useGamePad:!0,useOnlyPushStrategy:!0,useServiceWorker:!0,useVibration:!0,useHorizontalOrientation:!0,useVerticalOrientation:!1,showInstall:!0},(function(e,t,n){const o="left",r="right",i="up",s="down",a=[o,r],u=function(){const e=[300,200,300,200,150,100,150,100,150,300,100,100,100,100,150,100,200,300,120,130,120,300],t=[e,[100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,200,100,200,100,200,100,200,100,100,100,100,100,100,100,100,100,100,50,50,100,800],[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500]],o=function(){return(e=t)[Math.floor(Math.random()*e.length)];var e};return{getSong:function(){return n.useRandomSong?o():e}}}();function c(e,t,n){const a=n||30,u=t.x-e.x,c=t.y-e.y;return Math.abs(u)+Math.abs(c)<a?"":Math.abs(u)>Math.abs(c)?u<0?o:r:c<0?i:s}const l=function(e){return e===i?4:e===s?-4:e===o?1:e===r?-1:0},f=function(){let e=[],t=0;const o=function(e,t,n){const o=n[e];n[e]=n[t],n[t]=o},r=function(e){const t={};return t.x=e%4,t.y=Math.floor(e/4),t},i=function(e){return function(e,t){const n=t.x-e.x,o=t.y-e.y;return 0!==n&&0!==o?"":c(e,t,1)}(r(e),r(a))},s=function(n,r){if(""===n)return!1;if(r<0||r>15)return!1;if(n!==i(r))return!1;const s=u(r);let c=!1;for(let t=s.length-1;t>=0;--t)o(s[t],a,e),a=s[t],c=!0;return c&&++t,c};let a=15;const u=function(e){const t=r(e),n=r(a),o=[];if(t.x===n.x){let r=e,i=Math.abs(t.y-n.y);for(;i>0;)o.push(r),r-=4*Math.sign(t.y-n.y),--i}else if(t.y===n.y){let r=e,i=Math.abs(t.x-n.x);for(;i>0;)o.push(r),r-=Math.sign(t.x-n.x),--i}return o},f=function(n){t=0,e=[];for(let t=1;t<16;++t)e.push(t);n&&function(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,o(t,n,e)}}(e),e.push(0),a=15,function(e){let t=0;for(let n=1,o=e.length-1;n<o;n++)for(let o=n-1;o>=0;o--)e[o]>e[n]&&++t;return!(t%2)}(e)||o(0,1,e),n||(o(14,15,e),a=14)},d=function(){f(n.useRandomInit)};return d(),{go:function(e){return s(e,a+l(e))},bigGo:s,isCompleted:function(){return!e.some((function(e,t){return e>0&&e-1!==t}))},getElement:function(t){return e[t]},getMovesCount:function(){return t},reinit:d,canGo:function(e,t){if(!e||""===e)return!1;return e===i(t)&&u(t).length>0},getActiveElements:u,getHolePosition:function(){return a}}}();let d=null,g=null,h=null,m=null,v=!1,p=!1;const y=function(){n.useActiveHighlight=!n.useActiveHighlight,n.useMovingHighlight=!n.useMovingHighlight},b=function(){let e=[];const t={777:function(){n.useRandomInit=!1,N()},222:y,555:N};return{addElem:function(t){e.length<10&&e.push(t)},execute:function(){const o=e.join("");if(0===o.indexOf("111")){!function(e){const t=Object.keys(n)[e];if(!t)return;const o=n[t];null!=o&&(n[t]=!o)}(parseInt(o.substr(3),10)-1)}else{const e=t[o];e&&e()}e=[]}}}(),E=function(e){const t=e.changedTouches;return function(e){const t={};return t.x=e.pageX||e.clientX,t.y=e.pageY||e.clientY,t}(t?t[0]:e)},M=function(e){if(e.preventDefault(),!e.target.classList.contains("cell")||d)return;d=e.target,m=x(e.target.textContent),g=E(e),h=g,v=!1;const t=f.getElement(m);0!==t?(n.useActiveHighlight&&d.classList.add("active"),b.addElem(t)):b.execute()},x=function(e){for(let t=0;t<16;++t)if(f.getElement(t)===+e)return t;return-1};function C(e){return e===i?-1:e===s?1:e===o?-1:e===r?1:0}const L=function(e,t){if(f.canGo(e,t)){if(n.useSmoothAnimation)for(let n of f.getActiveElements(t)){let t=B(n);if(a.includes(e)){R(t,S.offsetWidth/4*C(e))}else{T(t,S.offsetHeight/4*C(e))}t.style.transition="transform 100ms linear"}return f.bigGo(e,t)}return!1};function w(){n.useSmoothAnimation?setTimeout(j,100):requestAnimationFrame(j)}const O=function(e){if(!g)return;e.preventDefault();const t=E(e),n=c(g,t);L(n,m),g=null,m=null,d=null,v=!1,w()},S=t.getElementsByClassName("box")[0],A=t.getElementsByClassName("reload")[0],k=t.getElementsByClassName("install")[0];for(let e=0;e<16;e++){const e=t.createElement("div");e.className="cell",S.appendChild(e)}const H=function(){const e=t.createElement("canvas"),n=t.getElementById("favicon");e.height=e.width=16;const o=e.getContext("2d");o.fillStyle="#000";return{changeBage:function(t){o.clearRect(0,0,e.width,e.height),o.fillText(t,2,12),n&&(n.href=e.toDataURL("image/png"))}}}();function P(){for(let e=0;e<16;e++){const t=S.childNodes[e],n=f.getElement(e);t.textContent=n,t.style.backgroundColor="",t.style.transform="",t.style.transition="",t.className=n?"cell":"cell hole"}f.getMovesCount()<=0||(n.useIconChanger&&H.changeBage(f.getMovesCount()),n.useBageChanger&&navigator.setAppBadge&&navigator.setAppBadge(f.getMovesCount()),n.useTitleChanger&&f.getMovesCount()>0&&(t.title=f.getMovesCount()))}function j(){P(),f.isCompleted()?(S.classList.add("win"),A.classList.remove("hidden"),k.classList.remove("hidden2"),n.useVibration&&(p=!0,navigator.vibrate(u.getSong()))):(n.useVibration&&p&&(p=!1,navigator.vibrate(0)),A.classList.add("hidden"),S.classList.remove("win"))}function I(e,t){return e>=0?Math.min(e,t):Math.max(e,-t)}function B(e){return S.childNodes[e]}function R(e,t){const o=S.offsetWidth/4;n.useMovingHighlight&&(e.style.backgroundColor="green"),e.style.transform="translateX("+I(t,o)+"px)"}function T(e,t){const o=S.offsetHeight/4;n.useMovingHighlight&&(e.style.backgroundColor="purple"),e.style.transform="translateY("+I(t,o)+"px)"}function G(e){if(e.preventDefault(),!n.useSlideAnimation)return;const t=E(e);if(d){const e=g,o=t.x-e.x,r=t.y-e.y,i=c(e,t,5),s=c(h,t,5);if(n.useOnlyPushStrategy&&function(e,t){const n=l(e),o=l(t);return 0!==n&&n===-o}(i,s)){const e=f.getActiveElements(m);e.length>1&&(v=L(i,e[1]))}if(f.canGo(i,m)){for(let e of f.getActiveElements(m))a.includes(i)?R(B(e),o):T(B(e),r);h=t}else d.style.transform=""}}function N(){f.reinit(),w()}S.addEventListener("touchstart",M,!1),S.addEventListener("touchend",O,!1),S.addEventListener("touchcancel",O,!1),S.addEventListener("touchmove",G,!1),S.addEventListener("mousedown",M,!1),S.addEventListener("mouseup",O,!1),S.addEventListener("mouseleave",O,!1),S.addEventListener("mousemove",G,!1),e.addEventListener("keydown",(function(e){var t;t=function(e){switch(e){case 37:case 72:case 65:return o;case 39:case 76:case 68:return r;case 38:case 75:case 87:return i;case 40:case 74:case 83:return s;default:return""}}(e.keyCode),L(t,f.getHolePosition()+l(t))&&w()})),e.addEventListener("deviceorientation",(function(e){if(!n.useHorizontalOrientation&&!n.useVerticalOrientation)return;let t=e.gamma;e.beta>90&&(t*=-1);let a=!1;if(n.useHorizontalOrientation){if(t>55)for(let e=0;e<16;e+=4)a|=L(r,e);if(t<-55)for(let e=3;e<16;e+=4)a|=L(o,e)}let u=e.beta;if(n.useVerticalOrientation){if(u>35)for(let e=0;e<4;e+=1)a|=L(s,e);if(u<-35)for(let e=12;e<16;e+=1)a|=L(i,e)}a&&w()})),A.addEventListener("click",(function(){n.useRandomInit=!0,N()}),!1),w()}))}]);